{"version":3,"file":"cms.176c6c5e7c7a19bd434c.hot-update.js","sources":["webpack:///./src/components/Form.css?452b","webpack:///./src/components/FormSimpleAjax.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1654865398092\n      var cssReload = require(\"/Users/patrickleach/encore_gatsby/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import React, { Fragment } from 'react'\nimport Helmet from 'react-helmet'\nimport { stringify } from 'qs'\nimport { serialize } from 'dom-form-serializer'\n\nimport './Form.css'\n\nclass Form extends React.Component {\n  static defaultProps = {\n    name: 'Simple Form Ajax',\n    subject: '', // optional subject of the notification email\n    action: '',\n    successMessage: 'Thanks for your enquiry, we will get back to you soon',\n    errorMessage:\n      'There is a problem, your message has not been sent, please try contacting us via email'\n  }\n\n  state = {\n    alert: '',\n    disabled: false\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    if (this.state.disabled) return\n\n    const form = e.target\n    const data = serialize(form)\n    this.setState({ disabled: true })\n    fetch(form.action + '?' + stringify(data), {\n      method: 'POST'\n    })\n      .then(res => {\n        if (res.ok) {\n          return res\n        } else {\n          throw new Error('Network error')\n        }\n      })\n      .then(() => {\n        form.reset()\n        this.setState({\n          alert: this.props.successMessage,\n          disabled: false\n        })\n      })\n      .catch(err => {\n        console.error(err)\n        this.setState({\n          disabled: false,\n          alert: this.props.errorMessage\n        })\n      })\n  }\n\n  render() {\n    const { name, subject, action } = this.props\n\n    return (\n      <Fragment>\n        <Helmet>\n          <script src=\"https://www.google.com/recaptcha/api.js\" />\n        </Helmet>\n        <form\n          className=\"Form\"\n          name={name}\n          action={action}\n          onSubmit={this.handleSubmit}\n          data-netlify=\"\"\n//          netlify-recaptcha=\"\"\n        >\n          {this.state.alert && (\n            <div className=\"Form--Alert\">{this.state.alert}</div>\n          )}\n          <div className=\"Form--Group\">\n            <label className=\"Form--Label\">\n              <input\n                className=\"Form--Input Form--InputText\"\n                type=\"text\"\n                placeholder=\"Name\"\n                name=\"firstname\"\n                required\n              />\n              <span>Name</span>\n            </label>\n            <label className=\"Form--Label\">\n              <input\n                className=\"Form--Input Form--InputText\"\n                type=\"text\"\n                placeholder=\"Phone\"\n                name=\"phone\"\n                required\n              />\n              <span>Phone</span>\n            </label>\n          </div>\n\n          <label className=\"Form--Label\">\n            <input\n              className=\"Form--Input Form--InputText\"\n              type=\"email\"\n              placeholder=\"Email\"\n              name=\"emailAddress\"\n              required\n            />\n            <span>Email address</span>\n          </label>\n\n          <label className=\"Form--Label\">\n            <textarea\n              className=\"Form--Input Form--Textarea Form--InputText\"\n              placeholder=\"Message\"\n              name=\"message\"\n              rows=\"10\"\n              required\n            />\n            <span>Message</span>\n          </label>\n          <div\n//           className=\"g-recaptcha\"\n//            data-sitekey=\"6LfKN3kUAAAAAGIM1CbXmaRZx3LIh_W2twn1tzkA\"\n          />\n          {!!subject && <input type=\"hidden\" name=\"subject\" value={subject} />}\n          <input type=\"hidden\" name=\"form-name\" value={name} />\n          <input\n            className=\"Button Form--SubmitButton\"\n            type=\"submit\"\n            value=\"Enquire\"\n            disabled={this.state.disabled}\n          />\n        </form>\n      </Fragment>\n    )\n  }\n}\n\nexport default Form\n"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;AAUA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;;;;;;;;AA/HA;AACA;AADA;AAEA;AACA;AAAA;AACA;AACA;AACA;AALA;AAgIA;AAAA;;;;;;;;;;AAjIA;;;;;;;;;;;;;;A","sourceRoot":""}